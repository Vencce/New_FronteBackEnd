import{A as c}from"./autores.d05a36ce.js";import{_,o as l,c as u,a as t,w as h,v as m,d as p,F as v,r as A,t as n}from"./index.cd9cced1.js";import"./index.a270d04d.js";const r=new c,b={data(){return{autor:{},autores:[]}},async created(){this.autores=await r.buscarTodosOsAutores()},methods:{async salvar(){this.autor.id?await r.atualizarAutor(this.autor):await r.adicionarAutor(this.autor),this.autores=await r.buscarTodosOsAutores(),this.autor={}},async excluir(o){await r.excluirAutor(o.id),this.autores=await r.buscarTodosOsAutores()},editar(o){Object.assign(this.autor,o)}}},w={class:"aut_princ"},f={class:"container"},y=t("div",{class:"title"},[t("h2",null,"Gerenciamento de autores")],-1),k={class:"form-input"},x={class:"aut_list-items"},g=t("thead",{class:"aut_thead"},[t("tr",null,[t("td",null,"ID"),t("td",null,"Autor"),t("td",null,"A\xE7\xF5es")])],-1),C=["onClick"],O=["onClick"];function T(o,s,B,D,i,e){return l(),u("div",w,[t("div",f,[y,t("div",k,[h(t("input",{class:"aut_form-input",type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>i.autor.nome=a),onKeyup:s[1]||(s[1]=p((...a)=>e.salvar&&e.salvar(...a),["enter"])),placeholder:"Cadastre um(a) Autor(a)"},null,544),[[m,i.autor.nome]]),t("button",{class:"but-salvar",onClick:s[2]||(s[2]=(...a)=>e.salvar&&e.salvar(...a))},"Salvar")])]),t("div",x,[t("table",null,[g,t("tbody",null,[(l(!0),u(v,null,A(i.autores,a=>(l(),u("tr",{key:a.id},[t("td",null,n(a.id),1),t("td",null,n(a.nome),1),t("td",null,[t("button",{class:"but-apagar",onClick:d=>e.excluir(a)},"Apagar",8,C),t("button",{class:"but-apagar",onClick:d=>e.editar(a)},"Editar",8,O)])]))),128))])])])])}var K=_(b,[["render",T]]);export{K as default};
